---
title: ğŸ”® ì†Œë§ˆë²• í”„ë¡œì íŠ¸ -1 (container)
date: 2020-03-01 20:03:64
category: project
draft: false
---

```toc
exclude: Table of Contents
from-heading: 1
to-heading: 6
```

# \#. Project Map

- :apple: <a href="https://small-magic-project.now.sh/" target="_blank">í”„ë¡œì íŠ¸ ì‚¬ì´íŠ¸</a>

- :fire: <a href="https://github.com/taenykim/small-magic-project" target="_blank">í”„ë¡œì íŠ¸ ê¹ƒí—ˆë¸Œì†ŒìŠ¤</a>

<br/>

<details>
<summary>ì œì‘ë…¸íŠ¸ í•œëˆˆì—ë³´ê¸°[ì ‘ê¸°/í¼ì¹˜ê¸°]</summary>
<div markdown="1">

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 1 (container)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B81/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 2 (calculator)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B82/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 3 (graph)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B83/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 4 (crawling)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B84/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 5 (today)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B85/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 6 (jjal)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B86/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 7 (avengers)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B87/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 8 (maskmap)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B88/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 9 (loading)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B89/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 10 (lazyloading)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B810/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 11 (music)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B811/)

- [ì†Œë§ˆë²• í”„ë¡œì íŠ¸ - 12 (racingcar)](https://taeny.dev/project/%EC%86%8C%EB%A7%88%EB%B2%95-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B812/)

  </div>
  </details>

# 0. Intro

ê¸°ë³¸ê¸°ë¥¼ ì–¼ì¶”(ë˜ ì–¼ì¶”ì•¼?) ê³µë¶€í•˜ë©´ì„œ ì—¬ëŸ¬ê°€ì§€ ë– ì˜¤ë¥´ëŠ” ì•„ì´ë””ì–´ë“¤ì„ ë©”ëª¨ì¥ì— ì ì–´ë’€ë‹¤.

ì•„ì´ë””ì–´ë“¤ì€ ì‹¤ì œ ì‚¬ìš©ìë“¤ì´ ì‚¬ìš©í•˜ë©´ ì–´ë–¨ê¹Œí•˜ëŠ” **ë³µí•©ì ì¸ ì„œë¹„ìŠ¤**ë¶€í„°

**ì‚¬ì†Œí•œ ì¸í„°ë ‰ì…˜ ê¸°ëŠ¥**ê¹Œì§€ ë­”ê°€ ë§Œë“¤ ìˆ˜ ìˆëŠ”, ë§Œë“¤ê³  ì‹¶ì€ ëª¨ë“  ê²ƒë“¤ì„ ì°¨ê³¡ì°¨ê³¡ ìŒ“ì•„ë‘ì—ˆë‹¤.

ê·¼ë° ì²˜ìŒë¶€í„° ê±°ëŒ€í•œ ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ê²ƒë³´ë‹¤ëŠ” ì‚¬ì†Œí•œ ê¸°ëŠ¥ë“¤ì„ ë§Œë“¤ì–´ë³´ëŠ” í”„ë¡œì íŠ¸ë¥¼ í•˜ìëŠ” ìƒê°ì„ í–ˆë‹¤.

> 1. ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ëª©ì ì€ ê³µë¶€ì´ë‹¤.

> 2. ê°œë°œì€ í˜‘ì—…í•˜ëŠ” ê²ƒì´ì§€ë§Œ ê°œì¸í”„ë¡œì íŠ¸ëŠ” ìì‹ ì´ í•  ìˆ˜ ìˆê³ , í•˜ê³ ì‹¶ì€ ë¶„ì•¼ì— ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ ë‚«ê² ë‹¤ë¼ëŠ” íŒë‹¨ì„ í–ˆë‹¤.

ê°œë°œì— ë§¤ë ¥ì„ ëŠë¼ê²Œëœ ê³„ê¸°ë¥¼ ë§ˆë²•ìœ¼ë¡œ í‘œí˜„í–ˆë“¯ì´ ([ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•˜ë©°](https://taeny.dev/essay/essay1_%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0/))

í”„ë¡œì íŠ¸ëª…ì„ `ì†Œë§ˆë²• í”„ë¡œì íŠ¸`ë¡œ ì§€ì—ˆë‹¤. (a.k.a í† ì´í”„ë¡œì íŠ¸)

ì´ë²ˆí”„ë¡œì íŠ¸ëŠ” ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ë“¤ê³¼ ë¡œì§, í˜¹ì€ ë””ìì¸(ux,ui)ì— í¬ì»¤ìŠ¤ë¥¼ ë§ì¶”ê³  ì•ìœ¼ë¡œ ë‚´ê°€ êµ¬ìƒí•œ ê²ƒì„ ì‹¤ì œë¡œ êµ¬í˜„í•´ë³´ê³ ìí•œë‹¤.

ë¬¼ë¡  ê³µë¶€ì˜ ëª©ì ì´ê¸° ë•Œë¬¸ì— ìµœëŒ€í•œ í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ëŠë‚€ ê²ƒì´ë‚˜ ë°°ìš´ ê²ƒë“¤ì„ ë¸”ë¡œê·¸ì— ê¸°ë¡í•  ê²ƒì´ë‹¤.

# 1.ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬, í”„ë ˆì„ì›Œí¬

í° í‹€ì€ `nextjs` í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ë¼ìš°íŒ…ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬ ë©”ì¸í˜ì´ì§€ì—ì„œ ê°ê°ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ êµ¬ìƒí•˜ì˜€ë‹¤.

ê·¸ë¦¬ê³  ê° í˜ì´ì§€ì˜ viewëŠ” `react` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

ìƒíƒœê´€ë¦¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ hooksë¥¼ í†µí•´ì„œ í•˜ë˜, ê°ê°ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì—¬ëŸ¬ê°œ ì¼œë‘ê±°ë‚˜ ì ì‹œ backgroundì— ë‘˜ ë•Œì²˜ëŸ¼ ì „ì²´ì ì¸ ìƒíƒœê´€ë¦¬ëŠ” `redux`ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.

ë¦¬ë•ìŠ¤ë˜í•œ hooksë¥¼ ì‚¬ìš©í•˜ë ¤ í–ˆë‹¤.

ê·¸ë¦¬ê³  ë””ìì¸ì€ propsì „ë‹¬ì´ë‚˜ ì¬ì‚¬ìš©ì„±, ê´€ë¦¬ê°€ ì¢‹ì€ `styled-component`ë¥¼ ì„ íƒí–ˆë‹¤.

# 2. ë ˆì´ì•„ì›ƒ êµ¬ìƒ

![](./images/layout.png)

> ë©”ì¸í˜ì´ì§€

## 2-1. ë””ìì¸ ì»¨ì…‰1(ë‰´ëª¨í”¼ì¦˜)

ì „ì²´ì ì¸ ë””ìì¸ ì»¨ì…‰ì€ `neumorphism`ì„ ì“°ê¸°ë¡œ í–ˆë‹¤.

ëª¨ë˜í•˜ê³  ë¯¸ë‹ˆë©€ë¦¬ì¦˜í‹±í•œ ëŠë‚Œë„ ëŒë ¤ì„œ ì„ íƒí–ˆë‹¤.

> ë­”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ì‹¶ê²Œ í•˜ëŠ” ux ì ì¸ ìš”ì†Œë„ ì¢‹ì•˜ë˜ ê²ƒ ê°™ë‹¤.

> ì‚¬ì‹¤ uxì ìœ¼ë¡œ í° ê³ ë¯¼ì„ í•˜ê³  ì •í•˜ì§„ ì•Šì•˜ë‹¤. (ê·¸ì € ì˜ˆìœ ê²ƒ ê°™ì•„ì„œ..)

## 2-2. ë””ìì¸ ì»¨ì…‰2(ë§¥ë¶)

ì´ë²ˆ í”„ë¡œì íŠ¸ ë‚´ì— ì—¬ëŸ¬ ì–´í”Œë¦¬ì¼€ì´ì…˜(ê¸°ëŠ¥ë“¤)ì„ ë„£ëŠ” ê²ƒì„ êµ¬ìƒí•˜ì˜€ê³ 

ê·¸ë¦¬ê³  ì—¬ëŸ¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë™ì‹œì— ì“¸ ìˆ˜ ìˆëŠ” ë©€í‹°íƒœìŠ¤í‚¹ë„ êµ¬ìƒí•´ë³´ì•˜ëŠ”ë°

ê·¸ë ‡ê²Œ ë– ì˜¬ë¦° ë””ìì¸ ì»¨ì…‰ì´ `ë§¥ë¶ ë°ìŠ¤í¬íƒ‘` í˜•íƒœì˜€ë‹¤.

ë©”ì¸í˜ì´ì§€ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì•„ì´ì½˜ í˜•ì‹ìœ¼ë¡œ ë„£ì–´ë‘ê³  í´ë¦­í•˜ì—¬ ì‹¤í–‰í•˜ë©°(ë¼ìš°íŒ…),

ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì¢…ë£Œí•˜ì§€ ì•Šê³  ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ë‹¤ê°€ ë‹¤ì‹œ ëŒì•„ì™€ë„ ë°ì´í„°ê°€ ë‚¨ì•„ìˆëŠ” ê²ƒì„ ìƒê°í–ˆë‹¤.(ë¦¬ë•ìŠ¤)

ê·¸ë ‡ê²Œ í•˜ë‹¨ì— Dockerë¥¼ ë‘ì—ˆë‹¤.

## 2-3. ë””í…Œì¼

í”„ë¡œì íŠ¸ ê³µìœ  ë ˆì´ì•„ì›ƒ (nextì˜ App ì»´í¬ë„ŒíŠ¸!)ë¥¼ í†µí•´

í™”ë©´ ìƒë‹¨ ì¤‘ì•™ì—ëŠ” `full screen ëª¨ë“œ ë²„íŠ¼`ê³¼ `ì œì‘ë…¸íŠ¸ë§í¬ ë²„íŠ¼`ì„ ë‘ì—ˆê³ 

í™”ë©´ ìƒë‹¨ ìš°ì¸¡ì—ëŠ” ê¹ƒí—ˆë¸Œ ë§í¬ë¥¼ ë‘ì—ˆë‹¤.

# 3. ì½”ë“œìŠ¤í”Œë¦¬íŒ…, ë””ë ‰í† ë¦¬ êµ¬ì¡°

## 3-1. ì „ì²´ì ì¸ êµ¬ì¡°

![](./images/constructor.png)

## 3-2. pages

![](./images/pages.png)

> next í”„ë ˆì„ì›Œí¬ì˜ ë¼ìš°íŒ… ì‹œìŠ¤í…œ

## 3-3. components

![](./images/components.png)

> ì»´í¬ë„ŒíŠ¸ë“¤ì€ ê° ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë”°ë¡œ í´ë”ë¥¼ ë‘ì—ˆê³ , ì „ì²´ì ì¸ ë ˆì´ì•„ì›ƒ í˜¹ì€ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¶€ë¶„ì€ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ë‘ì—ˆë‹¤.

## 3-4. public

![](./images/public.png)

> í°íŠ¸, ì´ë¯¸ì§€, íŒŒë¹„ì½˜ ë“± í”„ë¡œì íŠ¸ì— ì“°ì¼ static fileë“¤ì„ ë„£ì–´ì£¼ì—ˆë‹¤.

## 3-5. reducer

![](./images/reducers.png)

> ë¦¬ë“€ì„œë„ ê° ì–´í”Œë¦¬ì¼€ì´ì…˜ë³„ë¡œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… í•´ì£¼ì—ˆë‹¤.

# 4. ë¼ìš°íŒ… ì‹œìŠ¤í…œ

## 4-1. pages ë””ë ‰í† ë¦¬

next í”„ë ˆì„ì›Œí¬ëŠ” pages ë””ë ‰í† ë¦¬ë¥¼ í†µí•´ ë¼ìš°íŒ…ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

> :hatched_chick: \_error.jsë¡œ Errorì»´í¬ë„ŒíŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸°

## 4-2. \_app.js

App ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ìŒ ë°©ì‹ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•´ë³´ì•˜ë‹¤.

```jsx
import React from 'react'
import { GlobalStyle } from '../reset.css.js'
import { Provider } from 'react-redux'
import withRedux from 'next-redux-wrapper'
import { applyMiddleware, compose, createStore } from 'redux'
import reducer from '../reducers'
import Background from '../components/Background.js'

const _app = ({ Component, store }) => {
  return (
    <>
      {/* :star: ê¸€ë¡œë²ŒìŠ¤íƒ€ì¼*/}
      <GlobalStyle />
      <Provider store={store}>
        {/* :star: ê³µí†µ ë ˆì´ì•„ì›ƒ*/}
        <Background>
          <Component />
        </Background>
      </Provider>
    </>
  )
}

const configureStore = (initialState, options) => {
  const middlewares = []
  const enhancer =
    process.env.NODE_ENV === 'production'
      ? compose(applyMiddleware(...middlewares))
      : compose(
          applyMiddleware(...middlewares),
          !options.isServer &&
            typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined'
            ? window.__REDUX_DEVTOOLS_EXTENSION__()
            : f => f
        )
  const store = createStore(reducer, initialState, enhancer)
  return store
}

export default withRedux(configureStore)(_app)
```

## 4-3. :star: \<GlobalStyle \/\>

> styled componentì˜ createGloadStyleì„ ì´ìš©í•´ ì „ì²´ì ì¸ cssë¶€ë¶„ì„ reset.css.js íŒŒì¼ì— ë„£ì–´ì£¼ì—ˆë‹¤.

```js
// reset.css.js
import { createGlobalStyle } from 'styled-components'

export const GlobalStyle = createGlobalStyle`

// ...

`
```

> ëª¨ë“  css ì†ì„±ê³¼ ê°’ì„ resetí•´ì£¼ê³ , ì‚¬ìš©í•  ë¡œì»¬ í°íŠ¸ ë“±ì„ ë„£ì–´ì£¼ì—ˆë‹¤.

## 4-4. :star: Background.js

> Component (nextì—ì„œëŠ” pagesë¥¼ ì˜ë¯¸)ë“¤ì„ Background ì»´í¬ë„ŒíŠ¸ë¡œ ê°ì‹¸ì£¼ì—ˆë‹¤. Background ì»´í¬ë„ŒíŠ¸ëŠ” ëª¨ë“  í˜ì´ì§€ì—ì„œ ì ìš©ë  ë ˆì´ì•„ì›ƒ ìš”ì†Œ (Header, Footer ë“±)ë“¤ì„ ë‹¤ì‹œ ë„£ì–´ì£¼ì—ˆë‹¤.

```jsx
// Background.js
import React from 'react'
import styled from 'styled-components'
import Header from './Header'
import Footer from './Footer'

const BackgroundContainer = styled.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100vw;
  height: 100vh;
  background: #f5f6f7;
`

const FixedGithub = styled.div`
  position: fixed;
  z-index: 10;
  right: 0;
  top: 0;
  margin: 6px;

  & > img {
    filter: invert(48%) sepia(13%) saturate(3207%) hue-rotate(130deg) brightness(
        95%
      ) contrast(60%);
    cursor: pointer;
  }
`

const Background = ({ children }) => {
  return (
    <>
      <BackgroundContainer>
        <a href="https://github.com/taenykim/" target="_blank">
          <FixedGithub>
            <img src="./github.png" width="28" height="28" />
          </FixedGithub>
        </a>
        <Header></Header>
        {children}
        <Footer></Footer>
      </BackgroundContainer>
    </>
  )
}

export default Background
```

## 4-5. \_document.js

Document ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ìŒ ë°©ì‹ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•´ë³´ì•˜ë‹¤.

```jsx
import React from 'react'
import { ServerStyleSheet } from 'styled-components'
import Document, { Html, Head, Main, NextScript } from 'next/document'

class _document extends Document {
  static getInitialProps({ renderPage }) {
    const sheet = new ServerStyleSheet()
    const page = renderPage(App => props =>
      sheet.collectStyles(<App {...props} />)
    )
    const styleTags = sheet.getStyleElement()
    return { ...page, styleTags }
  }
  render() {
    return (
      <Html>
        <Head>{this.props.styleTags}</Head>
        <body style={{ fontFamily: 'escore3' }}>
          <Main />
          <NextScript />
        </body>
      </Html>
    )
  }
}

export default _document
```

> styled-componentsê°€ ë Œë”ë§ ë˜ê³  ì ìš©ë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `getInitialProps`ë¥¼ í†µí•˜ì—¬ ìŠ¤íƒ€ì¼ì„ ì ìš©ì‹œí‚¨ í›„ ë Œë”ë§ì„ í•˜ë„ë¡ ì„¤ì •í•´ì£¼ì—ˆë‹¤.

## 4-6. \_index.js

ë©”ì¸í˜ì´ì§€

```jsx
import React from 'react'
import styled from 'styled-components'
import AppIcon from '../components/AppIcon'
import AppName from '../components/AppName'

const IndexContainer = styled.div`
  display: flex;
  width: 90vw;
  height: 90vh;
  margin: 10px 10px 10px 10px;
`

const AppContainer = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 5px 20px 10px 20px;
`

const index = () => {
  return (
    <>
      <IndexContainer>
        <AppContainer>
          <AppIcon name="calculator" />
          <AppName name="calculator" />
        </AppContainer>
        <AppContainer>
          <AppIcon name="graph" />
          <AppName name="graph" />
        </AppContainer>
      </IndexContainer>
    </>
  )
}

export default index
```

> ë©”ì¸í˜ì´ì§€ëŠ” AppIconê³¼ AppName ì»´í¬ë„ŒíŠ¸ë¥¼ importí•´ì„œ êµ¬ì„±í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³  ê°ê°ì˜ propsë¡œ í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ì„ ë„˜ê²¨ì¤˜ì„œ ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ê°’ì´ ë°”ë€Œê²Œë” `ì½”ë“œ ì¬ì‚¬ìš©ì„±`ì— ì´ˆì ì„ ë§ì¶°ë³´ì•˜ë‹¤.

## 4-7. application.js

```jsx
// calculator page
import React from 'react'
import Layout from '../components/calculator/Layout'

const calculator = () => {
  return (
    <>
      <Layout />
    </>
  )
}

export default calculator
```

```jsx
// graph page
import React from 'react'
import Layout from '../components/graph/Layout'

const graph = () => {
  return (
    <>
      <Layout />
    </>
  )
}

export default graph
```

> ê°ê°ì˜ í˜ì´ì§€ì— ì§ì ‘ ê¸°ëŠ¥ë“¤ì„ ë„£ëŠ” ê²ƒë³´ë‹¤ í•´ë‹¹ ê¸°ëŠ¥ë“¤ì´ ë‹´ê¸´ components ë¥¼ í•œë²ˆì— ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ ê´€ë¦¬ê°€ ì‰¬ìš¸ ê²ƒ ê°™ì•„ components ë””ë ‰í† ë¦¬ ë‚´ì˜ í•´ë‹¹ application ì´ë¦„ì˜ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  layout ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ì—ˆê³  ê·¸ê²ƒì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í•˜ì˜€ë‹¤.

# 5. ì»´í¬ë„ŒíŠ¸

## 5-1. Header (FullScreen Mode)

in Background Component

```jsx
import React, { useEffect, useState } from 'react'
import styled from 'styled-components'

const HeaderContainer = styled.div`
  display: flex;
  position: fixed;
  top: 0;
  margin-top: 10px;
  z-index: 5;
  font-size: 12px;
  font-family: escore6;
  color: #666;
`

const FullscreenText = styled.p`
  cursor: pointer;
`

const NoteText = styled.p`
  cursor: pointer;
`

const Header = () => {
  const [full, setFull] = useState(false)

  useEffect(() => {
    document.addEventListener('fullscreenchange', () => {
      setFull(!full)
    })
  })

  const openFullScreen = () => {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen()
    } else {
      document.exitFullscreen()
    }
  }

  return (
    <HeaderContainer>
      <FullscreenText onClick={openFullScreen}>
        {full ? 'exit full screen' : 'full screen'}
      </FullscreenText>
      &nbsp;&nbsp;|&nbsp;&nbsp;<NoteText>note</NoteText>
    </HeaderContainer>
  )
}

export default Header
```

1. position : fixedë¡œ ìœ„ì¹˜ê³ ì •.

2. ì´ˆê¸° `full` state ê°’ì„ **false**ë¡œ ë‘ê³ (hooks) `document` ê°ì²´ì— **fullscreenchange** ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë„£ì–´ì£¼ì—ˆê³  ì´ë²¤íŠ¸ ë°œìƒì‹œ full stateê°’ì„ **toggle** í•˜ë„ë¡ í•˜ì˜€ë‹¤.

3. ê·¸ë¦¬ê³  `píƒœê·¸`ì— **click** ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë¥¼ ë„£ì–´ì£¼ì—ˆê³  ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ í˜„ì¬ ìŠ¤í¬ë¦°ëª¨ë“œë¥¼ ì¸ì‹í•´ì„œ ìŠ¤í¬ë¦°ëª¨ë“œë¥¼ **toggle**í•˜ë„ë¡ í•˜ì˜€ë‹¤.

4. ë§ˆì§€ë§‰ìœ¼ë¡œ **ì‚¼í•­ì—°ì‚°ì**ë¥¼ í†µí•´ í˜„ì¬ ìŠ¤í¬ë¦°ëª¨ë“œê°€ `píƒœê·¸`ì— ì íˆë„ë¡ í•˜ì˜€ë‹¤.

## 5-2. Footer (Docker)

in Background Component

```jsx
import React from 'react'
import styled from 'styled-components'
import { useSelector } from 'react-redux'
import DockerIcon from './DockerIcon'

const FooterContainer = styled.div`
  display: flex;
  align-items: center;
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 60px;
  background: rgba(0, 0, 0, 0.85);
  border-radius: 8px 8px 0px 0px;
`

const Docker = styled.div`
  display: flex;
  align-items: center;
  padding: 0px 20px 0px 20px;
`

const Footer = () => {
  const { docker } = useSelector(state => state.wrapper)
  return (
    <FooterContainer>
      <Docker>
        {docker.map((item, i) => {
          // :star:
          return <DockerIcon key={i} item={item} />
        })}
      </Docker>
    </FooterContainer>
  )
}

export default Footer
```

1. MacBook í•˜ë‹¨ì˜ ê·¸ Dockerê°€ ë§ë‹¤...

2. `useSelector` ë¥¼ í†µí•´ **docker array**ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

3. ê·¸ë¦¬ê³  í˜„ì¬ **docker array** ì•ˆì— ìˆëŠ” ìš”ì†Œë“¤ì„ mapí•¨ìˆ˜ë¥¼ í†µí•´ `DockerIcon` ì»´í¬ë„ŒíŠ¸ì— ìš”ì†Œì˜ ê°’ì„ propsë¡œ ì „ë‹¬í•˜ê³  ë·°ë¥¼ êµ¬ì„±í•˜ë„ë¡ í–ˆë‹¤.

4. dockerì˜ ìš”ì†Œ ê°’ì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ì´ **string** í˜•íƒœë¡œ ì €ì¥ë˜ì–´ìˆë‹¤.

```json
{
  "docker": ["calculator"]
}
```

## 5-3. :star: DockerIcon

in Footer Component

```jsx
import React from 'react'
import styled from 'styled-components'
import Link from 'next/link'

const AppIconContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
  border-radius: 15%;
  background: #f5f6f7;
  color: ${props => {
    if (props.name === 'calculator') return 'red'
    else if (props.name === 'graph') return 'blue'
    else return 'black'
  }};
  margin-right: 10px;

  & > div {
    font-family: escore9;
    font-size: 20px;
    text-shadow: 3px 3px #ccc;
  }
`

const DockerIcon = ({ item }) => {
  const url = `/${item}`
  return (
    <Link href={url}>
      <a style={{ textDecoration: 'none' }}>
        <AppIconContainer name={item}>
          <div>{item[0].toUpperCase()}</div>
        </AppIconContainer>
      </a>
    </Link>
  )
}

export default DockerIcon
```

1. DockerIconì€ í˜„ì¬ docker array ì•ˆì˜ stringì„ propsë¡œ ë°›ëŠ”ë‹¤.

2. ê·¸ props stringì€ í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì´ë¦„ì´ë©° urlë¡œë„ ì‚¬ìš©í•œë‹¤.

3. :apple: ê·¸ë¦¬ê³  styled components ì˜ propsë¡œë„ ë„˜ê²¨ì¤˜ì„œ í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ì— ë”°ë¼ ì•„ì´ì½˜ ìƒ‰ìƒì„ ë³€ê²½í•˜ê²Œë” í•´ì£¼ì—ˆë‹¤.

# 6. ë¦¬ë•ìŠ¤(ìƒíƒœê´€ë¦¬)

## 6-1. ContentsMenubar ì»´í¬ë„ŒíŠ¸

in Application > layout Component

![](./images/contentsmenubar.png)

> ì´ ë¶€ë¶„..!

```jsx
import React from 'react'
import styled from 'styled-components'
import Link from 'next/link'
import { useDispatch } from 'react-redux'
import {
  STORE_CALCULATOR_DATA,
  STORE_RESET_CALCULATOR,
} from '../reducers/calculator'
import { STORE_GRAPH_DATA, STORE_RESET_GRAPH } from '../reducers/graph'
import { DOCKER_STORE, DOCKER_DELETE } from '../reducers/wrapper'

const ContentsMenubarContainer = styled.div`
  display: flex;
  align-items: center;
  width: 100%;
  height: 60px;
  top: 0;
  & img {
    width: 17px;
    height: 17px;
  }
`

const ImageContainer = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 30px;
  width: 30px;
  box-shadow: -4px -2px 4px 0px #ffffff, 4px 2px 6px 0px #ddd;
  border-radius: 2px;
  padding: 2px;
  &:hover {
    cursor: pointer;
  }
  &:active {
    box-shadow: 2px 2px 2px 0px #dfe4ea inset, -2px -2px 2px 0px white inset;
  }
  & > img {
    filter: invert(48%) sepia(13%) saturate(3207%) hue-rotate(130deg) brightness(
        95%
      ) contrast(80%);
  }
`

// :star: props ?!
const ContentsMenubar = ({ data, name }) => {
  const dispatch = useDispatch()

  // :star: redux action dispatch ?!
  const storeHandler = () => {
    switch (name) {
      case 'calculator': {
        dispatch({
          type: STORE_CALCULATOR_DATA,
          data: data,
        })
        dispatch({
          type: DOCKER_STORE,
          data: name,
        })
        return
      }
      case 'graph': {
        dispatch({
          type: STORE_GRAPH_DATA,
          data: data,
        })
        dispatch({
          type: DOCKER_STORE,
          data: name,
        })
        return
      }
      default: {
        dispatch({
          type: DOCKER_STORE,
          data: name,
        })
        return
      }
    }
  }

  const storeReset = () => {
    switch (name) {
      case 'calculator': {
        dispatch({
          type: STORE_RESET_CALCULATOR,
        })
        dispatch({
          type: DOCKER_DELETE,
          data: name,
        })
        return
      }
      case 'graph': {
        dispatch({
          type: STORE_RESET_GRAPH,
        })
        dispatch({
          type: DOCKER_DELETE,
          data: name,
        })
        return
      }
      default: {
        dispatch({
          type: DOCKER_DELETE,
          data: name,
        })
        return
      }
    }
  }

  return (
    <ContentsMenubarContainer>
      <Link href="/">
        <a style={{ margin: '2px 2px 2px 10px' }}>
          <ImageContainer onClick={storeReset}>
            <img src="cancel.png"></img>
          </ImageContainer>
        </a>
      </Link>
      <Link href="/">
        <a style={{ margin: '2px 2px 2px 10px' }}>
          <ImageContainer onClick={storeHandler}>
            <img src="bottom_arrow.png"></img>
          </ImageContainer>
        </a>
      </Link>
    </ContentsMenubarContainer>
  )
}

export default ContentsMenubar
```

## 6-2. :star: ContentsMenubar ì»´í¬ë„ŒíŠ¸ì˜ props

```jsx
// calculator > layout.js
<ContentsMenubar
  data={{ result, tempResult, pressedOperator, isFirstNumberTyping }}
  name="calculator"
></ContentsMenubar>
```

`data props`

> ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì— ì €ì¥í•˜ê³ í”ˆ ë°ì´í„°ë“¤ì„ ê°ì²´í˜•íƒœë¡œ ë„˜ê²¨ì¤Œ

`name props`

> í˜„ì¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì´ë¦„

## 6-3. wrapper ë¦¬ë“€ì„œ (Docker)

```jsx
export const initialState = {
  docker: [],
}

export const DOCKER_STORE = 'DOCKER_STORE'
export const DOCKER_DELETE = 'DOCKER_DELETE'

export default (state = initialState, action) => {
  switch (action.type) {
    case DOCKER_STORE: {
      // dockerì— í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆìœ¼ë©´ return
      if (state.docker.indexOf(action.data) >= 0)
        return {
          ...state,
        }
      //dockerì— í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì—†ìœ¼ë©´ push
      return {
        ...state,
        docker: [...state.docker, action.data],
      }
    }
    // filterë¥¼ í†µí•´ í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ delete
    case DOCKER_DELETE:
      return {
        ...state,
        docker: state.docker.filter((v, i) => action.data !== v),
      }
    default: {
      return {
        ...state,
      }
    }
  }
}
```

## 6-4. application ë¦¬ë“€ì„œ (calculator)

```js
export const initialState = {
  result: '0',
  tempResult: '',
  pressedOperator: '',
  isFirstNumberTyping: true,
}

export const STORE_CALCULATOR_DATA = 'STORE_CALCULATOR_DATA'
export const STORE_RESET_CALCULATOR = 'STORE_RESET_CALCULATOR'

export default (state = initialState, action) => {
  switch (action.type) {
    // contentsMenubar ì—ì„œ ì €ì¥ì„ í–ˆìœ¼ë©´ ë°ì´í„° ì €ì¥
    case STORE_CALCULATOR_DATA: {
      return {
        result: action.data.result,
        tempResult: action.data.tempResult,
        pressedOperator: action.data.pressedOperator,
        isFirstNumberTyping: action.data.isFirstNumberTyping,
      }
    }
    // contentsMenubarì—ì„œ ë‹«ê¸°ë¥¼ í–ˆìœ¼ë©´ ì´ˆê¸°ë°ì´í„°ë¡œ ì´ˆê¸°í™”
    case STORE_RESET_CALCULATOR: {
      return {
        result: '0',
        tempResult: '',
        pressedOperator: '',
        isFirstNumberTyping: false,
      }
    }

    default: {
      return {
        ...state,
      }
    }
  }
}
```

# 7. ê°œì¸ì ì¸ í”¼ë“œë°±

## 7-1. SSR

ì„œë²„ì‚¬ì´ë“œë Œë”ë§ì´ ì•„ì§ ì•ˆë˜ì—ˆë‹¤.

## 7-2. ë°˜ì‘í˜•

ë°˜ì‘í˜• ì•„ì§ ì•ˆë˜ì—ˆë‹¤.
